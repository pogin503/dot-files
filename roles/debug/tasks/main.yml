- name: debug specified user's home dir through ansible.env
  # debug: var="{{ ansible_env.HOME }}"
  debug:
    msg: "{{ ansible_env.HOME }}"

- name: debug specified user's home dir through lookup on env
  # debug: var="{{ lookup('env','HOME') }}"
  debug:
    msg: "{{ lookup('env','HOME') }}"

- name:
  shell: >
    getent passwd {{ user }} | cut -d: -f6
  changed_when: false
  register: user_home

- name: debug output
  debug:
    msg: user_home.stdout

# @see https://stackoverflow.com/questions/33343215/how-to-get-remote-users-home-directory-in-ansible

